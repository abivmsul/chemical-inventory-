{% extends 'main.html'%}

{% block content %}


{% if page == 'animal' %}
<div class="container-fluid">
    <div class="text-center">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h2> Animal Bio-Technology <strong class="text-danger"> Desposed </strong> Chemicals</h2> 
            <!-- <a href="#" class="  btn btn-sm btn-info shadow-sm"><i
                    class="fas fa-download fa-sm text-white-50"></i> Download Report</a> -->
                    <a class="btn btn-sm btn-info shadow-sm" href="#" data-toggle="modal" data-target="#report"> <i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
                    <!-- <li class="nav-item"> 
                        <a class=" btn btn-sm btn-info shadow-sm  collapsed " href="#" data-toggle="collapse" data-target="#report"
                            aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-download fa-sm text-white-50"></i> Generate Report
                        </a>
                        <div id="report" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner rounded">
                                <h6 class="collapse-header">report type:</h6>
                                <a class="collapse-item btn btn-sm btn-info shadow-sm " href="{% url 'csvDChemicalReport' page %}"><i class="fas fa-table fa-sm text-white-50"></i> CSV file</a>
                                <a class="collapse-item btn btn-sm btn-info shadow-sm " href="#"><i class="fas fa-clipboard-list fa-sm text-white-50"></i> Pdf file</a>
                            </div>
                        </div>
                    </li> -->
        </div>
      </div>
  <!-- Page Heading -->


<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-info">Chemical Lists</h6>
    </div>
    <div class="card-body" style="box-shadow:0 0 25px 0 rgb(29, 175, 185);">
        <div class="table-responsive">
            <table class="table table-bordered text-gray-800" id="dataTable" width="100%" cellspacing="0" >
                <thead>
                 <tr>
                <th>NO</th>
                <th>Chemical Name</th>
                <th>Company</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Shelf</th>
                <th>Cabinate</th>
                <th>Expire Date </th>
                <th>Desposed Date</th>
                
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>NO</th>
                <th>Chemical Name</th>
                <th>Company</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Shelf</th>
                <th>Cabinate</th>
                <th>Expire Date</th>
                <th>Desposed Date</th>

                
            </tr>
        </tfoot>
        <tbody>
         {% for chemicals in desposed %}
          
            <tr align="center">
                <td>{{forloop.counter }}</td>
                <td>{{chemicals.chemical.name}}</td>
                <td>{{chemicals.chemical.company}}</td>
                 <td>{{chemicals.available}}</td>
                  <td>{{chemicals.chemical.unit}}</td>
                  <td>{{chemicals.shelf}}</td>
                  <td>{{chemicals.cabinate}}</td> 
                  <td>
                     
                <i class="fas fa-success fa-1x text-danger"> <strike> {{chemicals.expireDate}}</strike></i> 
               
                </td>
                <td>
                     
                    <div class="progress mb-4">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: 100%"
                            aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">{{chemicals.desposedDate}}</div>
                    </div>
                   
                    </td>
               
                </tr>
                {%empty%}    
                <tr>
                    <td colspan='5'>There are no chemicals</td>
                </tr>   
               
            
            {%endfor%}
        
          
        </tbody>
      </table>
    
    </div>
    </div>
    </div>
    </div>
 {%elif page == 'plant'%}
 <div class="container-fluid">
    <div class="text-center">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h2> Plant Bio-Technology <strong class="text-danger"> Desposed </strong> Chemicals</h2> 
            <!-- <a href="#" class="  btn btn-sm btn-info shadow-sm"><i
                    class="fas fa-download fa-sm text-white-50"></i> Download Report</a> -->
                    <a class="btn btn-sm btn-info shadow-sm" href="#" data-toggle="modal" data-target="#report">
                         <i class="fas fa-download fa-sm text-white-50"></i> Generate Report
                        </a>
                    <!-- <li class="nav-item">
                        <a class=" btn btn-sm btn-info shadow-sm  collapsed " href="#" data-toggle="collapse" data-target="#report"
                            aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-download fa-sm text-white-50"></i> Generate Report
                        </a>
                        <div id="report" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner rounded">
                                <h6 class="collapse-header">report type:</h6>
                                <a class="collapse-item btn btn-sm btn-info shadow-sm " href="{% url 'csvDChemicalReport' page %}"><i class="fas fa-table fa-sm text-white-50"></i> CSV file</a>
                                <a class="collapse-item btn btn-sm btn-info shadow-sm " href="#"><i class="fas fa-clipboard-list fa-sm text-white-50"></i> Pdf file</a>
                            </div>
                        </div>
                    </li> -->
        </div>
      </div>
  <!-- Page Heading -->


<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-info">Chemical Lists</h6>
    </div>
    <div class="card-body" style="box-shadow:0 0 25px 0 rgb(29, 175, 185);">
        <div class="table-responsive">
            <table class="table table-bordered text-gray-800" id="dataTable" width="100%" cellspacing="0" >
                <thead>
                 <tr>
                <th>NO</th>
                <th>Chemical Name</th>
                <th>Company</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Shelf</th>
                <th>Cabinate</th>
                <th>Expire Date </th>
                <th>Desposed Date</th>
                
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>NO</th>
                <th>Chemical Name</th>
                <th>Company</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Shelf</th>
                <th>Cabinate</th>
                <th>Expire Date</th>
                <th>Desposed Date</th>

                
            </tr>
        </tfoot>
        <tbody>
         {% for chemicals in desposed %}
          
            <tr align="center">
                <td>{{forloop.counter }}</td>
                <td>{{chemicals.chemical.name}}</td>
                <td>{{chemicals.chemical.company}}</td>
                 <td>{{chemicals.available}}</td>
                  <td>{{chemicals.chemical.unit}}</td>
                  <td>{{chemicals.shelf}}</td>
                  <td>{{chemicals.cabinate}}</td> 
                  <td>
                     
                <i class="fas fa-success fa-1x text-danger"> <strike> {{chemicals.expireDate}}</strike></i> 
               
                </td>
                <td>
                     
                    <div class="progress mb-4">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: 100%"
                            aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">{{chemicals.desposedDate}}</div>
                    </div>
                   
                    </td>
               
                </tr>
                {%empty%}    
                <tr>
                    <td colspan='5'>There are no chemicals</td>
                </tr>   
               
            
            {%endfor%}
        
          
        </tbody>
      </table>
    
    </div>
    </div>
    </div>
    </div>
{%elif page == 'microbial'%}
<div class="container-fluid">
    <div class="text-center">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h2> Microbial Bio-Technology <strong class="text-danger"> Desposed </strong> Chemicals</h2> 
            <!-- <a href="#" class="  btn btn-sm btn-info shadow-sm"><i
                    class="fas fa-download fa-sm text-white-50"></i> Download Report</a> -->
                    <a class="btn btn-sm btn-info shadow-sm" href="#" data-toggle="modal" data-target="#report"> 
                        <i class="fas fa-download fa-sm text-white-50"></i> Generate Report
                    </a>
                    <!-- <li class="nav-item">
                        <a class=" btn btn-sm btn-info shadow-sm  collapsed " href="#" data-toggle="collapse" data-target="#report"
                            aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-download fa-sm text-white-50"></i> Generate Report
                        </a>
                        <div id="report" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner rounded">
                                <h6 class="collapse-header">report type:</h6>
                                <a class="collapse-item btn btn-sm btn-info shadow-sm " href="{% url 'csvDChemicalReport' page %}"><i class="fas fa-table fa-sm text-white-50"></i> CSV file</a>
                                <a class="collapse-item btn btn-sm btn-info shadow-sm " href="#"><i class="fas fa-clipboard-list fa-sm text-white-50"></i> Pdf file</a>
                            </div>
                        </div>
                    </li> -->
        </div>
      </div>
  <!-- Page Heading -->


<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-info">Chemical Lists</h6>
    </div>
    <div class="card-body" style="box-shadow:0 0 25px 0 rgb(29, 175, 185);">
        <div class="table-responsive">
            <table class="table table-bordered text-gray-800" id="dataTable" width="100%" cellspacing="0" >
                <thead>
                 <tr>
                <th>NO</th>
                <th>Chemical Name</th>
                <th>Company</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Shelf</th>
                <th>Cabinate</th>
                <th>Expire Date </th>
                <th>Desposed Date</th>
                
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>NO</th>
                <th>Chemical Name</th>
                <th>Company</th>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Shelf</th>
                <th>Cabinate</th>
                <th>Expire Date</th>
                <th>Desposed Date</th>

                
            </tr>
        </tfoot>
        <tbody>
         {% for chemicals in desposed %}
          
            <tr align="center">
                <td>{{forloop.counter }}</td>
                <td>{{chemicals.chemical.name}}</td>
                <td>{{chemicals.chemical.company}}</td>
                 <td>{{chemicals.available}}</td>
                  <td>{{chemicals.chemical.unit}}</td>
                  <td>{{chemicals.shelf}}</td>
                  <td>{{chemicals.cabinate}}</td> 
                  <td>
                     
                <i class="fas fa-success fa-1x text-danger"> <strike> {{chemicals.expireDate}}</strike></i> 
               
                </td>
                <td>
                     
                    <div class="progress mb-4">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: 100%"
                            aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">{{chemicals.desposedDate}}</div>
                    </div>
                   
                    </td>
               
                </tr>
                {%empty%}    
                <tr>
                    <td colspan='5'>There are no chemicals</td>
                </tr>   
               
            
            {%endfor%}
        
          
        </tbody>
      </table>
    
    </div>
    </div>
    </div>
    </div>
{%endif%}
 
<!--  Desposed chemical report Modal-->
<div class="modal fade bd-example-modal-lg" id="report" tabindex="-1" role="dialog" aria-labelledby="detail"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content" style="box-shadow:0 0 25px 0 rgb(29, 175, 185);">
        <div class="modal-header border-bottom-0">
            <h5 class="title" id="detail">Report</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">Ã—</span>
            </button>
           </div>
           <div class="modal-body border-bottom-0">

                  <div class="col-md-10 mx-auto">
                             <div class="card" style="box-shadow:0 0 25px 0 rgb(29, 175, 185);">
                               <div class="card-header">
                                    <h4>Generate Report</h4>
                               </div>
                               <div class="card-body">
                                {% if page == 'animal' %}
                                <form method="POST" action="{% url 'csvDChemicalReport' 'animal' %}"  enctype='multipart/form-data'  >
                                {%elif page == 'plant'%}
                                <form method="POST" action="{% url 'csvDChemicalReport' 'plant' %}"  enctype='multipart/form-data'  >
                                {%elif page == 'microbial'%}
                                <form method="POST" action="{% url 'csvDChemicalReport' 'microbial' %}"  enctype='multipart/form-data'  >
                                    {%endif%}
                                  
                                       {% csrf_token %}
                                       <!-- <div class="input-group mb-3">
                                           <div class="input-group-append">
                                               <span class="input-group-text"><i class="fas fa-user"></i></span>
                                           </div>
                                           {{form.username}}
                                       </div> -->
                                       <div class="form-group mb-4">
                                           <label>From<sup class="text-danger">&#10033;</sup></label>
                                           <input type="date" name="start"  class="form-control" required>
                                         </div>
                                         <div class="form-group mb-4">
                                           <label>To<sup class="text-danger">&#10033;</sup></label>
                                           <input type="date" name="to"  class="form-control" required>
                                         </div>
                                         <div class="d-flex justify-content-center mt-3 login_container">
                                            <input class="btn btn-info" name="csv" type="submit" value="Generate CSV">
                                                </div>
                                          <div class="d-flex justify-content-center mt-3 login_container">
                                           <input type="hidden" name="next" value="{{ request.path }}">
                                            <input class="btn btn-info" name="pdf" type="" value="Generate PDF">
                                        </div>
                                       
                                   </form>
                               </div>
                             </div>
                         </div>

          </div>

    </div>
</div>
</div>




{% endblock%}